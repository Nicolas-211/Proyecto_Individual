<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PJUD</title>
  <!-- assets -->
  {% include 'assets/Profile/header.html' %}


  <style>
    .fulfilled {
    color: green;
}
  </style>
  <!-- fin assets -->
</head>

<body class="hold-transition sidebar-mini">
  <div class="wrapper">
    {% include '/menu/navbar.html' %} {% include '/menu/MainSidebar.html' %}

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <section class="content-header">
        <div class="container-fluid">
          <div class="row mb-2">
            <div class="col-sm-6"></div>
            <div class="col-sm-6">
              <ol class="breadcrumb float-sm-right">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item active">User Profile</li>
              </ol>
            </div>
          </div>
        </div>
        <!-- /.container-fluid -->
      </section>
      <!-- Main content -->
      <section class="content">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-3">

              <!-- Profile Image -->
              <div class="card card-primary card-outline">
                <div class="card-body box-profile">
                  <div class="text-center">
                    <img src="{{ url_for('static', filename='dist/img/user1-128x128.jpg') }}"
                      class="img-circle elevation-2" alt="User Image" />
                  </div>

                  <ul class="list-group list-group-unbordered mb-3">
                    <li class="list-group-item">
                      <b>Nombre: </b> <a class="float-right">{{nombre_usuario}}</a>
                    </li>
                    <li class="list-group-item">
                      <b>Rol: </b> <a class="float-right">{{usuario}}</a>
                    </li>
                    <li class="list-group-item">
                      <b>Correo: </b> <a class="float-right">{{correo_ususario}}</a>
                    </li>
                  </ul>
                </div>
                <!-- /.card-body -->
              </div>
              <!-- /.card -->

              <!-- /.card -->
            </div>
            <!-- /.col -->
            <div class="col-md-9">
              <div class="card">
                <div class="card-header p-2">
                  <ul class="nav nav-pills">
                    <li class="nav-item"><a class="nav-link active" href="#timeline" data-toggle="tab">Editar Correo</a>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="#settings" data-toggle="tab">Cambiar contraseña</a>
                    </li>
                  </ul>
                </div><!-- /.card-header -->
                <div class="card-body">
                  <div class="tab-content">
                    <!-- /.tab-pane -->
                    <div class="active tab-pane" id="timeline">
                      <!-- The timeline -->
                      <form class="form-horizontal" role="form" enctype="multipart/form-data" action="/cambiarCorreo" method="post">
                        <div class="form-group row">
                          <label for="inputName" class="col-sm-2 col-form-label">Correo Nuevo: </label>
                          <div class="col-sm-10">
                            <input type="email" class="form-control" id="newcorreo" name="newcorreo"
                              placeholder="Ingrese Correo Nuevo" required>
                          </div>
                        </div>
                        <div class="form-group row">
                          <label for="inputEmail" class="col-sm-2 col-form-label">Confirmar Correo:</label>
                          <div class="col-sm-10">
                            <input type="email" class="form-control" id="confirm_correo" name="confirm_correo"
                              placeholder="Confirmar Correo" required>
                          </div>
                        </div>
                        <div class="form-group row">
                          <div class="offset-sm-2 col-sm-10">
                            <button type="submit" class="btn btn-primary" name="btn_correo" >Guardar</button>
                          </div>
                        </div>
                      </form>
                    </div>
                    <!-- /.tab-pane -->

                    <div class="tab-pane" id="settings">
                      <form class="form-horizontal" action="/CambiarContra" method="post">
                        <div class="form-group row">
                          <label for="inputName" class="col-sm-2 col-form-label">Nueva contraseña:</label>
                          <div class="col-sm-10">
                            <input type="password" class="form-control" id="newcontraseña" name="newcontraseña" required
                              placeholder="Ingrese Nueva Contraseña">
                          </div>
                        </div>
                        <div class="form-group row">
                          <label for="inputEmail" class="col-sm-2 col-form-label">Confirmar Contraseña:</label>
                          <div class="col-sm-10">
                            <input type="password" class="form-control" id="confirm_password" name="confirm_password" required
                              placeholder="Confirmar Nueva Contraseña">
                          </div>
                        </div>
                        <div class="form-group row">
                          <div class="offset-sm-2 col-sm-10">
                            <button type="submit" class="btn btn-primary" name="guardar_pass" id="guardar_pass">Guardar</button>
                          </div>
                        </div>
                      </form>
                      <div id="passwordRequirements">
                        <h3>Especificaciones para la contraseña:</h3>
                        <ul>
                          <li>Debe tener al menos 8 caracteres.</li>
                          <li>Debe contener al menos una letra mayúscula.</li>
                          <li>Debe contener al menos dos números.</li>
                        </ul>
                      </div>
                    </div>

                    
                    <!-- /.tab-pane -->
                  </div>
                  <!-- /.tab-content -->
                </div><!-- /.card-body -->
              </div>
              <!-- /.card -->
            </div>
            <!-- /.col -->
          </div>
          <!-- /.row -->
        </div><!-- /.container-fluid -->
      </section>
      <!-- /.content -->
    </div>
    <!-- /.content-wrapper -->
    <footer class="main-footer">
      <div class="float-right d-none d-sm-block"></div>
      <strong>Copyright &copy; 2023 <a>PJUD</a>.</strong> All rights reserved.
    </footer>

    <!-- Control Sidebar -->
    <aside class="control-sidebar control-sidebar-dark">
      <!-- Control sidebar content goes here -->
    </aside>
    <!-- /.control-sidebar -->
  </div>
  {% include 'modals/Profile/modal-exito-Profile.html' %}
  {% include 'modals/Profile/modal-error-Profile.html' %}
  {% include 'modals/Profile/modal-warning-Profile.html' %}
  <!-- assets -->
  {% include 'assets/Profile/body.html' %}
  <!-- fin assets -->
</body>
  
<script>
  // Script JavaScript
document.getElementById('newcontraseña').addEventListener('keyup', function () {
  var password = this.value;
  var requirements = document.getElementById('passwordRequirements').querySelectorAll('li');

  // Verificar si la contraseña cumple con los requisitos
  var lengthRequirement = password.length >= 8;
  var uppercaseRequirement = /[A-Z]/.test(password);
  var numbersRequirement = (password.match(/\d/g) || []).length >= 2;

  // Marcar las especificaciones cumplidas o no cumplidas
  requirements[0].classList.toggle('fulfilled', lengthRequirement);
  requirements[1].classList.toggle('fulfilled', uppercaseRequirement);
  requirements[2].classList.toggle('fulfilled', numbersRequirement);
});
</script>
</html>