<!-- Navbar -->



<nav class="main-header navbar navbar-expand navbar-white navbar-light">
  <!-- Left navbar links -->
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
    </li>
    <li class="nav-item d-none d-sm-inline-block">
      <a href="/home" class="nav-link">Home</a>
    </li>
  </ul>

  <!-- Right navbar links -->
  <ul class="navbar-nav ml-auto">

    <li class="nav-item">
      <a class="nav-link" data-widget="fullscreen" href="#" role="button">
        <i class="fas fa-expand-arrows-alt"></i>
      </a>
    </li>
    <!-- Sign Out -->
    <li class="nav-item dropdown">
      <a class="nav-link" data-toggle="dropdown" href="#">
        <i class="fas fa-power-off"></i>
      </a>
      <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
        <div class="dropdown-divider"></div>
        <a  class="dropdown-item logout">
          Sign Out
        </a>
      </div>
    </li>
  </ul>
</nav>
<!-- /.navbar -->
{% include 'modals/logout/modal-warning.html' %}

<!-- En tu plantilla base o en un archivo JavaScript -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>


<script>
$(document).ready(function () {
    // Maneja el clic en el botón de enviar
    $('.logout').on('click', function() {
        // Obtiene el valor de data-dato

        
        // Realiza una solicitud AJAX a la ruta '/Indicaciones'
        $.ajax({
            type: 'POST',
            url: '/logout',
            data: { }, // Enviar dato al servidor
            success: function (data) {
                // Verifica si se realizó una infracción y muestra el modal
                if (data.infraccion) {
                    console.log(data.flash_message)
                    
                    $('#flash-message').html('<div class="alert alert-success">' + data.flash_message + '</div>');
                    $('#myModal-warning-logout').modal('show');
                }
            },
            error: function (error) {
                console.log('Error: ', error);
            }
        });
    });
  });
</script>

{% include 'modals/logout/modal-warning.html' %}